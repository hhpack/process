language: generic
sudo: required
dist: trusty
services:
- docker
before_script:
- printenv | awk -F= '{if ($1 ~ /^(TRAVIS|GITHUB)/) print $1"="$2}' > .env
- docker-compose build --build-arg GITHUB_CREDENTIALS_TOKEN=$GITHUB_CREDENTIALS_TOKEN web
script:
- docker-compose run web typesafety --review
- docker-compose run web composer test
matrix:
  fast_finish: true
notifications:
  email: false
env:
  global:
  - secure: CFq6YdFqSI+rF8gEyQvSRnWnoesXIXrSUG9aT456JfnuSiMx+uE67c4CJLzV7tWVJUny9nd1FtTV+rrHZHvW91X0vZAwXzKI+zWdZDOuaKCdXOqbDgfv6dkQP1jxMyL+QpBfDqCO8PixScjDPAD68iuDAzMcdI+KUOLRvy7hTC9dkarEyFnQDFh2ED3OAKrpZ0eiIOWmYLn9DSELFCBJpp7RxHJ/zVFdHFX9ktQUK5QQFlbyETjbFHwD6SB+hCQT/7blkRmVE2GBRFYx84jvyTFF5/NrpHFOpY7n73LJT8+9HV3BGt2bOiyf+O9auv0ZGQ2Xx2d4GUy63/gKc7r6W2z6OEv/9bIY4jPRCKcotmYamrIIIYkpj3+5oHv/t2HWX18mMDwYUezvN0u3ctbw1ck8W72sOvD+KUcrNdJpvfMWPX2RQu6Ljip3Gt3L6PlUfXrbyH+lQ2/8hT55yr5ENqLzqrlecUiyEbp2YLOerJPKrXiGNuuTJJf+N+0e6rU4F4smY9gfi1ckZoXGncQNbuFTxmXMb819BEXDxHLyY0PJrINqRDQbPrhFicr9TE/JX4uheq63PS2lQqGDvZDeYZuRaOSKBhcDPhV+YMpUAGy1QOM4BF4R2cMz7OwQGln6a3Tx80CT+ViJxtFdDNIJGHFa/fryZtrogTAJKEG9kts=
  - secure: dQWqrJokKiNS7qXSmVaE0Mjns006nPRX2ViCSN705X1OixbSupRV3uR1r+aBpuytGWYxvP8/FjEsiltZQy5CW6YGgQNy+OmF4dRw0BsV74GdlZ6MdlB2RC5ptqdCDwD7nLILa7TiIKPnxeV36cfKhZ5tnTi+yZ6ndoRcRK8W42B7nZ7pOeUzGsoaMqD18bV9VvOcZ6DxxWuohDyHjaWNFSphKVRRb2j4hldXAcRIcvXwIJCrjlxHv6NlPzjxKB+EcVvWjFW7hlmVQurwTFHI1NPhQDfOL1N5SGq1nww0IGdUhKU3t+jH+R7mKKuDeB5Sf/+8TjSIKXFUfoJ84OA5czefujREfYN4Wf4dUGqN8ISFUz9WAfOT6CicLlFiW1RmdtWKVn8DVKudLMAhXXUXTrp43jfO5LkY0cj2kt2VEDBvfaQHhMJd03TXGd5lc27Akcy4KkZG39qK4v5x8XWNSUAtM6NkqqejpWRtBZTWPifYmYp0iLVm9ZkxxvLQdPvE4fck5SUAjb7Y6yuF8iN6K2AOTHWPC3mA0R3p1lNoCP7NmXwUZyeAMcvv28OKA8L2IAvOVgcWYH3vPpwhGY7pC8L/g8khoyGfjbQAFZiWFYW5QaXRl54mvpIjPWdCo+eY1YXEQvvNg3/S9leC/YCdBqY7X1ddl0wYd0lYWaJB/lo=
  - secure: FeetecT14N5KKEPKzVydZeKR/XiFS4zfWMeggv9eXaOHUHg3+CPAabK5OcuUsandUQE+iJfs7+hTkC0fz3uJsYB5DQJ2H1xHGN1IGzqqjWw3F+JHmLTgT60WSw0timbnJwuP8Ew1zUmFqiQe+G2xMFvxECG2u7PPZ0ii2FvKYpCNVqML8MRpSVMBpv4w/BEq31q2ppwV/XjW7j7CI+tALpOq4Z4CYV7t6ZIJZC/q1sL+Tx0aFx6SrOSg0gdctztXbp9jyy8sBDWyQHtf2vK4TA/fsobB3bVlwqoaoDd2CudhUS2jNr26Hteb1QUtgDqkM6L9uxdxqtq6zQTGdvTpUtwwMUrYEIjXhxRXvZXGZVWQwacXZVemIg5/PiMS9JkzgKvuOqhGxjV9n3aWh/5y+C8gqzB5KXB2uzbG/+GeCTsOF9y3lrpu6XvZ6ZFdmRPa44/4XQPHP3z2dM0vCjM6qpG6vNyjTVXtW6b3wdGfv1GHcahx12YVnEp/B+TB6wXwKtcUQ66KFQi9qDSsxjyFgyyF5TEuaFDLjQXASNVVcpv2/01f2ei0vy6jHtxshiJvqalNwIeAi2J3qiWeNjIao/X9kO+O7q5EPcPcL8q63Pl9WKlmWP2/SdnIjdMU6xr7xs2gJz4Y26FdVvxmjRcqr+PLV1aRxd5bY7NQwNuQY1M=
